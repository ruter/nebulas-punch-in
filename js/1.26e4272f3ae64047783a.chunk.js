webpackJsonp([1],{317:function(e,t,n){"use strict";function a(e){s||n(329)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(323),r=n(330),s=!1,c=n(132),i=a,l=c(o.a,r.a,!1,i,"data-v-0fd60cd4",null);l.options.__file="src/views/create.vue",t.default=l.exports},323:function(e,t,n){"use strict";var a=n(133),o=n(64),r=n(65),s=n.n(r),c=n(134),i=(n.n(c),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),l=new o.a;t.a={data:function(){return{address:"",created:!1,punchInfo:{name:"",desc:"",cycle:"7",deposit:""},ruleValidate:{name:[{required:!0,message:"请输入打卡项目的名称",trigger:"blur"}],desc:[{required:!0,message:"请输入打卡项目的描述",trigger:"blur"}],cycle:[{required:!0,message:"请选择一个打卡周期",trigger:"change"}]},loading:!0,timeoutObj:null}},watch:{address:function(){this.startApp()}},created:function(){var e=this;a.a.noWallet?(this.loading=!1,this.showError()):(this.timeoutObj=setTimeout(function(){e.showWarning()},5e3),a.a.getAccount(this))},methods:{startApp:function(){clearTimeout(this.timeoutObj),this.loading=!1},showError:function(){this.$Modal.warning(a.a.PocketErr)},showWarning:function(){this.$Modal.warning(a.a.WalletWarning)},handleConfirmClick:function(){var e=this;this.$refs.punchInfo.validate(function(t){if(t){e.loading=!0;var n={name:e.punchInfo.name,desc:e.punchInfo.desc,cycle:parseInt(e.punchInfo.cycle)};e.handleCreate(n,e.punchInfo.deposit)}else e.$Message.error("请将信息填写完整")})},handleCreate:function(e,t){var n=this,o=a.a.getContractAddress(),r=a.a.toSting([e]),c=t?new s.a(t):"0";l.call(o,c,"create",r,{listener:function(e){"object"===(void 0===e?"undefined":i(e))?(n.created=!0,console.log(e)):n.$Modal.error({title:"创建失败",content:"交易被取消，打卡创建失败"}),n.loading=!1}})}}}},329:function(e,t){},330:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"index"},[e.created?e._e():a("Row",{staticClass:"pet-mb-160",attrs:{type:"flex",justify:"center",align:"middle"}},[a("Col",{attrs:{span:"12"}},[a("Form",{ref:"punchInfo",attrs:{model:e.punchInfo,rules:e.ruleValidate,"label-width":80}},[a("FormItem",{attrs:{label:"打卡目标",prop:"name"}},[a("Input",{attrs:{placeholder:"请输入打卡目标"},model:{value:e.punchInfo.name,callback:function(t){e.$set(e.punchInfo,"name",t)},expression:"punchInfo.name"}})],1),e._v(" "),a("FormItem",{attrs:{label:"打卡描述",prop:"desc"}},[a("Input",{attrs:{placeholder:"请输入打卡目标的描述"},model:{value:e.punchInfo.desc,callback:function(t){e.$set(e.punchInfo,"desc",t)},expression:"punchInfo.desc"}})],1),e._v(" "),a("FormItem",{attrs:{label:"打卡时长",prop:"cycle"}},[a("RadioGroup",{model:{value:e.punchInfo.cycle,callback:function(t){e.$set(e.punchInfo,"cycle",t)},expression:"punchInfo.cycle"}},[a("Radio",{attrs:{label:"7"}},[a("span",[e._v("7天")])]),e._v(" "),a("Radio",{attrs:{label:"15"}},[a("span",[e._v("15天")])]),e._v(" "),a("Radio",{attrs:{label:"30"}},[a("span",[e._v("30天")])])],1)],1),e._v(" "),a("FormItem",{attrs:{label:"激励金额"}},[a("Input",{attrs:{placeholder:"请输入激励金额"},model:{value:e.punchInfo.deposit,callback:function(t){e.$set(e.punchInfo,"deposit",t)},expression:"punchInfo.deposit"}}),e._v(" "),a("p",[e._v("* 激励金是用于激励用户完成打卡的机制，在完成指定打卡时长后将全额返还你存入星云打卡中的激励金，为鼓励你养成打卡习惯，提取激励金将免除手续费")])],1),e._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:e.handleConfirmClick}},[e._v("确定")])],1)],1)],1),e._v(" "),e.loading?a("Spin",{attrs:{size:"large",fix:""}}):e._e()],1),e._v(" "),e.created?a("Row",{staticClass:"pet-mb-160",attrs:{type:"flex",justify:"center",align:"middle"}},[a("Col",{attrs:{span:"12"}},[a("div",{staticStyle:{"text-align":"center"}},[a("h1",[a("img",{attrs:{src:n(331),alt:""}})]),e._v(" "),a("h2",{staticClass:"pet-mb-32"},[e._v("新的打卡项目「"+e._s(e.punchInfo.name)+"」已经创建，你可以在「我的打卡」中查看")]),e._v(" "),a("h3",{staticClass:"pet-mb-32"},[e._v("坚持每天打卡完成目标，养成良好的习惯，成功一定会离你越来越近的~")]),e._v(" "),a("p",{staticClass:"pet-mb-32"},[e._v("* 数据写入需要一点时间，如果不能马上看到新创建的打卡内容，可以稍候再刷新查看")]),e._v(" "),a("router-link",{attrs:{to:"/"}},[a("Button",{attrs:{type:"primary",size:"large"}},[e._v("我的打卡")])],1)],1)])],1):e._e()],1)},o=[];a._withStripped=!0;var r={render:a,staticRenderFns:o};t.a=r},331:function(e,t,n){e.exports=n.p+"2be508f4e9a854f72791ee68db083313.png"}});